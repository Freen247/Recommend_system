Model: "model"
__________________________________________________________________________________________________
Layer (type)                    Output Shape         Param #     Connected to                     
==================================================================================================
movie_titles (InputLayer)       [(None, 15)]         0                                              1 def get_inputs():
__________________________________________________________________________________________________
movie_title_embed_layer (Embedd (None, 15, 32)       166880      movie_titles[0][0]               
__________________________________________________________________________________________________
reshape (Reshape)               (None, 15, 32, 1)    0           movie_title_embed_layer[0][0]    
__________________________________________________________________________________________________
conv2d (Conv2D)                 (None, 14, 1, 8)     520         reshape[0][0]                    
__________________________________________________________________________________________________
conv2d_1 (Conv2D)               (None, 13, 1, 8)     776         reshape[0][0]                    
__________________________________________________________________________________________________
conv2d_2 (Conv2D)               (None, 12, 1, 8)     1032        reshape[0][0]                    
__________________________________________________________________________________________________
conv2d_3 (Conv2D)               (None, 11, 1, 8)     1288        reshape[0][0]                    
__________________________________________________________________________________________________
movie_categories (InputLayer)   [(None, 18)]         0                                              1 def get_inputs():
__________________________________________________________________________________________________
max_pooling2d (MaxPooling2D)    (None, 1, 1, 8)      0           conv2d[0][0]                     
__________________________________________________________________________________________________
max_pooling2d_1 (MaxPooling2D)  (None, 1, 1, 8)      0           conv2d_1[0][0]                   
__________________________________________________________________________________________________
max_pooling2d_2 (MaxPooling2D)  (None, 1, 1, 8)      0           conv2d_2[0][0]                   
__________________________________________________________________________________________________
max_pooling2d_3 (MaxPooling2D)  (None, 1, 1, 8)      0           conv2d_3[0][0]                   
__________________________________________________________________________________________________
uid (InputLayer)                [(None, 1)]          0                                              1def get_inputs():
__________________________________________________________________________________________________
user_gender (InputLayer)        [(None, 1)]          0                                              1def get_inputs():
__________________________________________________________________________________________________
user_age (InputLayer)           [(None, 1)]          0                                              1def get_inputs():
__________________________________________________________________________________________________
user_job (InputLayer)           [(None, 1)]          0                                              1def get_inputs():
__________________________________________________________________________________________________
movie_id (InputLayer)           [(None, 1)]          0                                              1def get_inputs():
__________________________________________________________________________________________________
movie_categories_embed_layer (E (None, 18, 32)       608         movie_categories[0][0]           
__________________________________________________________________________________________________
pool_layer (Concatenate)        (None, 1, 1, 32)     0           max_pooling2d[0][0]              
                                                                 max_pooling2d_1[0][0]            
                                                                 max_pooling2d_2[0][0]              
                                                                 max_pooling2d_3[0][0]            
__________________________________________________________________________________________________
uid_embed_layer (Embedding)     (None, 1, 32)        193312      uid[0][0]                          2 get_user_embedding
__________________________________________________________________________________________________
gender_embed_layer (Embedding)  (None, 1, 16)        32          user_gender[0][0]                  2 get_user_embedding
__________________________________________________________________________________________________
age_embed_layer (Embedding)     (None, 1, 16)        112         user_age[0][0]                     2 get_user_embedding
__________________________________________________________________________________________________
job_embed_layer (Embedding)     (None, 1, 16)        336         user_job[0][0]                     2 get_user_embedding
__________________________________________________________________________________________________
movie_id_embed_layer (Embedding (None, 1, 32)        126496      movie_id[0][0]                     2 get_user_embedding
__________________________________________________________________________________________________
lambda (Lambda)                 (None, 1, 32)        0           movie_categories_embed_layer[0][0
__________________________________________________________________________________________________
pool_layer_flat (Reshape)       (None, 1, 32)        0           pool_layer[0][0]                 
__________________________________________________________________________________________________
uid_fc_layer (Dense)            (None, 1, 32)        1056        uid_embed_layer[0][0]             3  get_user_feature_layer 第一层全连接
__________________________________________________________________________________________________
gender_fc_layer (Dense)         (None, 1, 32)        544         gender_embed_layer[0][0]          3  get_user_feature_layer 第一层全连接
__________________________________________________________________________________________________
age_fc_layer (Dense)            (None, 1, 32)        544         age_embed_layer[0][0]             3  get_user_feature_layer 第一层全连接
__________________________________________________________________________________________________
job_fc_layer (Dense)            (None, 1, 32)        544         job_embed_layer[0][0]             3  get_user_feature_layer 第一层全连接
__________________________________________________________________________________________________
movie_id_fc_layer (Dense)       (None, 1, 32)        1056        movie_id_embed_layer[0][0]        get_movie_id_embed_layer
__________________________________________________________________________________________________
movie_categories_fc_layer (Dens (None, 1, 32)        1056        lambda[0][0]                     
__________________________________________________________________________________________________
dropout_layer (Dropout)         (None, 1, 32)        0           pool_layer_flat[0][0]            
__________________________________________________________________________________________________
concatenate (Concatenate)       (None, 1, 128)       0           uid_fc_layer[0][0]                第二层全连接
                                                                 gender_fc_layer[0][0]            
                                                                 age_fc_layer[0][0]               
                                                                 job_fc_layer[0][0]               
__________________________________________________________________________________________________
concatenate_1 (Concatenate)     (None, 1, 96)        0           movie_id_fc_layer[0][0]           
                                                                 movie_categories_fc_layer[0][0]  
                                                                 dropout_layer[0][0]              
__________________________________________________________________________________________________
dense (Dense)                   (None, 1, 200)       25800       concatenate[0][0]                 第二层全连接
__________________________________________________________________________________________________
dense_1 (Dense)                 (None, 1, 200)       19400       concatenate_1[0][0]              
__________________________________________________________________________________________________
user_combine_layer_flat (Reshap (None, 200)          0           dense[0][0]                       get_user_feature_layer
__________________________________________________________________________________________________
movie_combine_layer_flat (Resha (None, 200)          0           dense_1[0][0]                      
__________________________________________________________________________________________________
inference (Lambda)              (None,)              0           user_combine_layer_flat[0][0]    
                                                                 movie_combine_layer_flat[0][0]   
__________________________________________________________________________________________________
lambda_1 (Lambda)               (None, 1)            0           inference[0][0]                  
==================================================================================================
Total params: 541,392
Trainable params: 541,392
Non-trainable params: 0